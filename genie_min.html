<!DOCTYPE html>
<html>
<head>

</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<h2>Dynamic Ad Playback from JSON Playlist</h2>
				<hr>
			</div>
		</div>
		<div class="row" style="max-width: 50%">
			<div class="col-md-6">	
				<!-- Begin JW Player Embed Code Here -->
				<div id="jwplayer_video_container"></div> <script type="text/javascript" src="https://content.jwplatform.com/libraries/PjDyt66d.js"></script> <script>function buildJW(jwplayer,playlist_url){jw=jwplayer("jwplayer_video_container");var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var myObj=JSON.parse(this.responseText);var arr_length=myObj.playlist.length-1;var rand_int=Math.floor(Math.random()*(arr_length-0+1))+0;var file=myObj.playlist[rand_int].sources[0].file;var tags=myObj.playlist[rand_int].tags;var mediaid=myObj.playlist[rand_int].mediaid;var tags_array=tags.split(",");for(var i=0;i<=arr_length;i++){var tag=tags_array[i];if(myObj.hasOwnProperty(tag)){jw.setup({file:file,advertising:{client:"vast",tag:myObj[tag]}});i=arr_length+1;jw.on("firstFrame",function(){console.log("I am working!")});jw.on("ready",function(){console.log("I am ready!")});jw.on("adError",function(){});} else{console.log("false, no campaign using: "+tag)}}}};xmlhttp.open("GET",playlist_url,true);xmlhttp.send();}buildJW(jwplayer,"https://cdn.jwplayer.com/v2/playlists/Hhg78iLp");</script>
				<!-- End JW Player Embed Code Here -->
			</div>
		</div>
	</div>
</body>
</html>